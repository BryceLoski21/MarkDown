<!-- 切忌重蹈覆辙! -->
# 计算机网络

[TOC]

## 计算机网络概述

### 计算机网络的定义

计算机网络可以看成是计算机与通信技术相结合的产物.
它通过通信链路或传输介质将多个基于计算机系统的节点互连起来， 其中包括特定的网络硬件及协议， 可实现节点之间的相互通信和资源共享.

计算机网络的功能:

1. 数据通信
   数据通信是网络的基本功能,数据通信传输的信息有字符,声音,图片,动画和视频等多媒体信息.
2. 资源共享
   资源共享是网络能将系统内、外的所有软、硬件资源，包括数据提供给系统内、外的用户使用的一种能力，资源共享可以节约大量的投资。
3. 分布式处理
   网络的分布式处理的功能可以使网络内的微型计算机构成高性能的计算机并行处理体系，因此使PC具有了处理大型综合性问题的能力。
   分布式处理模式可以充分地利用网络资源，将一个完整的大问题分解成多个子问题，交由多台PC并行处理。

### 计算机网络的分类

从不同角度出发， 计算机网络的分类也不尽相同， 其中两个维度非常重要： 网络覆盖尺度和传输技术.

根据网络节点的地理距离和系统的复杂性,网络分为:

1. 局域网
   局域网属于私有网络，具有高宽带、低延时、低差错率和网内广播能力。
   局域网的种类有：以太网、快递以太网、千兆位以太网、令牌环网、光纤分布式数据接口FDDI。
2. 城域网
   城域网可以是私有网络也可以是公用网络，它是利用局域网技术在城市范围内建立的一种大型网络。
   城域网通过专用光缆连接城市中的某些重要部门如政府机关、电信机构、医院、学校等单位的主机、外设和局域网，可以实现用户间的数据、语音、图形与视频等多种信息的传输。其覆盖的范围可以达到100公里左右。
3. 广域网
   广域网一般是公用网络。广域网内的节点位置跨越比较大的地理范围，例如跨越省界、国界或洲界。最典型的广域网是因特网，此外还有公用电话交换网PSTN、公用分组交换网（X.25）、数字数据网DDN、帧中继通信FR、交换式多兆位数据服务SMDS和异步传输模式ATM等。

局域网中可以按照拓扑结构对网络进行分类，网络拓扑结构（Network Topology）是组建通信网络结构的策略。

通信子网常见的网络拓扑结构有星型（Star Topology）局域网、总线型（CommonBus Topology）局域网、环型（Ring Topology）局域网三种。

![网络拓扑结构](/images/局域网拓扑结构种类.jpg)

1. 星型
   星型网络拓扑结构的特点是网络中有一台中央设备来连接网络中的所有节点。中央设备可以是集线器或者交换机，用双绞线连接网络中的所有节点并提供独立的数据传输。星型网络拓扑结构为任意两个节点之间提供了最短的传输路径。
2. 总线型
   总线型拓扑结构局域网的介质访问控制方法采用的是“共享介质”方式，网络中所有节点都连接到一条作为公共传输介质的总线上，不需要额外的连接设备。
   总线传输的介质通常采用50Ω的基带同轴电缆，发送或接收数据的方式为“广播”方式。
   总线型拓扑结构的缺点是只能够支持一个通道端口到端口的信号传输，因此网络上的“冲突”会导致传输失败。
3. 环型
   环型拓扑结构的特点是网络中每个节点只与和它相邻两个节点相连接，整个网络形成一个封闭的“环”。
   环型结构中计算机要依靠一个长度为3字节的“令牌”发送信息，因此环型拓扑结构的网络被称为“令牌环网”。
   缺点：网络建成后难以增加新的节点，数据在环中单向传输，任何一个节点发生故障都会导致数据传输中断。
   优点：抗干扰性强，适合于电磁辐射较强的工厂环境。

### 计算机网络体系结构

为了降低网络设计的复杂性，绝大多数网络都组织成一个层次栈，每一层都建立在下一层的基础上，每一层向上一层提供特定的服务。
目前存在两种网络设计体系结构参考模型：OSI参考模型和TCP/IP参考模型。

1. OSI参考模型
   OSI参考模型是国际标准化组织（ISO）提出的开放系统互连参考模型(Open Systems Interconnection Reference Model)，从底层开始分别为物理层、数据链路层、网络层、传输层、会话层、表示层、应用层。

   - 应用层
    直接为用户的应用进程提供服务，包括用户通常需要的各种各样的协议，如超文本传输协议，支持电子邮件的SMTP协议、支持文件传送的FTP协议等。
   - 表示层
    主要任务是管理抽象的数据结构，并允许定义和交换更高层的数据结构。
    由于不同的计算机有不同的内部数据表示法，为了使这些计算机能够通信，它们交换的数据结构必须以一种抽象的方式来定义，表示层就对这些抽象的数据结构进行管理。
   - 会话层
    主要任务是为不同机器上的用户建立对话，对话提供对话控制、同步功能、令牌管理等各种服务。
   - 传输层
    主要任务是接收来自上一层的数据，在必要的时候把这些数据分割成较小的单元，然后把这些数据单元传递给网络层，并保证数据单元正确地到达另一端。
   - 网络层
    主要任务是控制子网的运行、处理拥塞、保证网络所提供的服务质量（延迟、抖动传输时间等），网络层解决网络运行中的流量控制、路由选择、分组传送等问题，从而允许异构网络相互连接成为互联网。
   - 数据链路层
    主要任务是将一个原始的传输设施转变成一条没有漏检传输错误的路线。
    在两个相邻节点之间传送数据时，数据链路层将网络层传下来的IP数据报组装成帧，在两个相邻节点间的链路上透明地传送帧中的数据。每一帧包括数据和必要的控制信息（如同步信息、地址信息、差错控制等）。
   - 物理层
    主要任务是在一条通信信道上传输原始比特。主要涉及机械、电子、时序接口，以及物理传输介质等。

2. TCP/IP参考模型
   为在网络中的数据交换而建立的规则、约定和标准就称为网络协议。
   TCP/IP就是一组用于实现网络互连的通信协议。TCP/IP协议从下往上有四层：网络接口层、Internet层、传输层和应用层。
   ![TCP/IP参考模型](../images/TCP_IP参考模型.jpg)

### 计算机网络的基本组成

计算机网络系统由通信子网和资源子网组成，而网络硬件系统和网络软件系统是计算机网络赖以存在的基础。

- 网络硬件系统
  网络硬件是计算机网络系统的物质基础。要构建一个网络，首先要将计算机及其附属硬件设备与网络中的其它计算机系统连接起来，不同的网络系统在硬件方面有所差别，但是大部分都包括终端设备、传输介质、控制设备等。
  1. 网络终端设备
    网络终端设备包括：计算机、服务器（文件服务器、数据库服务器、打印服务器等）、网络设备、共享设备等。
  2. 网络传输介质
    传输介质是数据传输系统中发送装置和接收装置之间的物理媒体。传输介质可分为两大类：有线传输介质和无线传输介质。
    常用有线传输介质：双绞线、同轴电缆、光纤。
    常用无线传输技术：微波通信、红外线通信、无线电波通信。
  3. 网络控制设备
    网络因为完成不同的功能而需要各式各样的设备构成，网络控制设备保障网络各项功能的实现，从而实现网络的互联。
    网络控制（连接）设备包括用于网内连接的网卡、中继器、调制调解器、集线器、交换机、网间连接的路由器、网桥等。

- 网络软件系统
  安装网络软件系统来协调系统资源，通过软件工具对网络资源进行全面的管理、分配和调动，这样才能保证用户对系统的控制，防止出现系统混乱以及信息数据的破坏和丢失。
  1. 网络系统软件
    负责管理和控制网络运行以及网络资源的使用，并为客户提供访问网络和操作网络的人机接口。
    网络系统软件通常有：*网络操作系统*、网络通信软件、数据库管理系统、网络协议和协议软件等。
    网络操作系统是网络系统软件的核心，用以实现系统资源共享、管理用户对不同资源访问的系统程序，是最主要的网络软件。
  2. 网络应用软件
    指为用户提供特定服务并为网络用户解决实际问题的软件。
    例如：浏览器、网络聊天工具、邮件客户端软件、FTP软件等。

## Internet简介

Internet是一个全球性的计算机互联网络，也叫“因特网”或“国际互联网络”，它将全世界成千上万的计算机连接起来，组成一个跨越国界的庞大的互联网。

常用Internet服务：

- WWW服务
  WWW（World Wide Web）服务，中文译名“万维网”，将信息以网页的形式进行展示，并将各种资源放在遍布世界各地的Web服务器上。
- 电子邮件服务
  电子邮件（Electronic Mail）服务，通过电子形式进行信息交换的通信方式，它是Internet提供得最早、最广泛的服务之一。
- 文件传输服务
  文件传输服务的主要作用是计算机之间传递文件。该服务采用基于TCP/IP协议的文件传输协议FTP（File Transfer Protocol），是一种实时的联机服务。
- 远程登录服务
  主要用途是使得本地计算机可以与另一远程计算机之间建立连接，本地计算机将成为远程计算机的一个终端，使得用户可以很方便的操纵世界另一端的主机。

### Internet接入方式

- 拨号接入
  拨号接入Internet是利用电话网建立本地计算机和ISP（Internet服务供应商）之间的连接。
  拨号接入主要分为电话拨号、ISDN、ADSL三种方式。
- 局域网接入
  通过局域网接入Internet，全部利用数字线路传输，不再受传统电话网带宽的限制，可以提供高达十兆甚至上千兆的桌面接入速度，比拨号接入速度快的多。
  采用局域网接入Internet在硬件配置上只需要一台计算机、一块以太网卡和一根双绞线，然后通过ISP的网络设备就可以连接到Internet。
- 无线接入
  无线接入Internet可以省去铺设有线网络的麻烦，目前个人无线接入方案主要有两大类：
  - 一类是使用无线局域网（WLAN）的方式，网络协议为IEEE802.11a、802.11b、802.11g等。用户端使用计算机和无线网卡，服务端使用无线信号发射装置（AP）提供连接信号。（便捷且速度快，覆盖范围小）
  - 另一类是直接使用手机卡，通过移动通信来上网。用户端需要额外购买一种卡式设备（PC卡），将其插在笔记本或台式电脑的PCMCIA槽或USB接口。（没有地点限制，速度不理想）
- 光纤接入
  指局部和用户之间全部或部分以光纤作为传输媒体。光纤是一种由玻璃或塑料制成的纤维，利用“光的全反射”原理进行信号传输，可提供10MBPS，100MBPS，1000MBPS的高速宽带。
  优点：传输距离远、保密性好、损耗低、保真度高、抗干扰能力强。
  缺点：价格高。
  光纤接入技术可以分为两类：
  - 有源光纤入网（高带宽、保密性较高，企事业单位）
  - 无源光纤入网（范围在20公里以内的住宅用户和中小型企事业用户的接入）

### Internet地址

Internet将现有的局域网根据一定的标准连接起来，各个局域网之间可以进行信息交流，从而把整个世界联系在一起，标识计算机在Internet中的位置成为了Internet互联的关键。

- IP地址
  网络数据传输是根据协议进行的，不同的局域网可能有不同的协议，要使它们在Internet上进行通信，必须遵循统一的协议，这就是TCP/IP协议。
  TCP/IP协议中要求网上的每台计算机拥有自己唯一的标识，这个标识就称为IP地址。
  - IPv4
    最常用的IP地址是第四版本，称为IPv4，它由32位（bit）二进制组成，IPv4的地址通常使用“点分十进制”的形式来表示，每8位为1组一共4组，每一组用0~255间的十进制表示，组与组之间以圆点分隔，如：202.103.0.68。
    IP地址不是随机分配的，在需要IP地址时，用户需要向网络中心NIC提出申请。中国最顶级的IP地址管理机构是中国互联网络信息中心CNNIC。
    IP地址分为5类：A、B、C、D、E类。分配给网络服务提供商（ISP）和网络用户的是前三类地址，D类地址为多播地址，而E类地址并未使用。
    ![IP地址中的字段](/images/IP地址中的字段.jpg)
    各类IP地址都包含网络号和主机号两部分,主机号部分表明某一网络中最多可以包含多少台主机.
    子网掩码是一个32位二进制数,它用来区分网络地址和主机地址。将主机地址和子网掩码按位做“与”运算，就得到该IP所属的网络地址。
  - IPv6
    IPv6采用128位地址长度，几乎可以不受限制地提供地址。
    IPv6的优势：扩大地址空间、提高网络的整体吞吐量、改善服务质量（QoS）、安全性有更好的保证、支持即插即用和移动性、更好的实现多播功能等。

<br/>

- 域名地址
  根据IP地址，想要访问某个网站时，就可以把该网站服务器的IP地址输入在浏览器地址里。但是网上的计算机成千上万，如果都用像202.201.0.40这样的数字来识别，那么既生硬又难记忆。TCP/IP协议提供了另一种方便记忆的地址方式：域名地址，即用一组英文简写来代替难记的数字。
  Internet通过域名服务器DNS（Domain Name Server）将域名解析成IP地址，用户只需要记住域名地址就可以访问远程主机。
  每个域名地址包含几个层次，每部分称为域，并用圆点隔开。域名地址是从右至左表诉其意义的，最右边的部分为顶层域名，最左边的则是某台主机的机器名称。一般域名地址可表示为：
  > 主机名.单位名.网络名.顶层域名

  顶层域名一般是组织机构或国家/地区的名称缩写。
  - 组织机构顶层域名
    顶层域名中的组织机构代码一般由三个字符组成，表名了域名所属的领域和机构性质。
    常见域名组织机构代码，如下表所示：

    |域名代码|机构性质|
    |:--:|:--:|
    |com|商业机构|
    |edu|教育机构|
    |gov|政府部门|
    |mil|军事机构|
    |net|网络组织|
    |int|国际机构|
    |org|其它非营利组织|

  - 国家/地区顶层域名
    顶层域名中的组织机构代码一般由两个字符表示世界大多数加入Internet的国家/地区都有自己的域名代码。由于Internet起源于美国，最初美国并没有考虑到其它国家会加入该网络，所以美国的网络站点大多使用组织机构作为顶层域名，因此美国在一段时间内是没有国家域名。
    常见国家/地区域名如下表：

    |域名代码|国家/地区|域名代码|国家/地区|
    |:--:|:--:|:--:|:--:|
    |ar|阿根廷|nl|荷兰|
    |au|澳大利亚|nz|新西兰|
    |at|奥地利|ni|尼加拉瓜|
    |br|巴西|no|挪威|
    |ca|加拿大|pk|巴基斯坦|
    |fr|法国|ru|俄罗斯|
    |de|德国|sa|沙特阿拉伯|
    |gr|希腊|sg|新加坡|
    |is|冰岛|se|瑞典|
    |in|印度|ch|瑞士|
    |ie|爱尔兰|th|泰国|
    |il|以色列|tr|土耳其|
    |it|意大利|uk|英国|
    |jm|牙买加|us|美国|
    |jp|日本|vn|越南|
    |mx|墨西哥|tw|中国台湾|
    |cn|中国|hk|中国香港|

  - 域名分配
    域名由申请域名的组织机构选择,然后再向Internet网络信息中心或子域管理机构登记注册。
    下层域名一般由其上层域名的管理者分配和定义，例如微软公司向.com管理机构申请了域名"microsoft.com"，该域名的下层域名地址管理由微软公司自己负责。例如，微软公司可在DNS服务器中为WWW服务创建域名www.microsoft.com，为FTP服务创建域名ftp.microsoft.com等等。
